package es.iessaladillo.esthercastaneda.mastermind.ui.menu.homeimport android.content.SharedPreferencesimport android.os.Bundleimport android.widget.Toastimport androidx.fragment.app.Fragmentimport androidx.navigation.NavControllerimport androidx.navigation.fragment.NavHostFragmentimport androidx.preference.PreferenceManagerimport assets.blinkimport es.iessaladillo.esthercastaneda.mastermind.Rimport kotlinx.android.synthetic.main.home_fragment.*import kotlinx.android.synthetic.main.main_activity.*class HomeFragment : Fragment(R.layout.home_fragment) {    private val navController: NavController by lazy {        NavHostFragment.findNavController(navHostFragment)    }    private val settings: SharedPreferences by lazy {        PreferenceManager.getDefaultSharedPreferences(context)    }    override fun onActivityCreated(savedInstanceState: Bundle?) {        super.onActivityCreated(savedInstanceState)        setupViews()    }    private fun setupViews() {        btnPlay.blink()        setupButtons()        isFirstSession()    }    private fun isFirstSession() {        val firstSession = settings.getBoolean(getString(R.string.firstSessionKey), true)        if (firstSession) {            navController.navigate(R.id.action_homeFragment_to_manualFragment)        }    }    private fun setupButtons() {        btnPlay.setOnClickListener {            if (settings.getLong(getString(R.string.key_currentIdUser), -1L) == -1L) {                Toast.makeText(context, getString(R.string.msg_creat_player), Toast.LENGTH_LONG).show()                navController.navigate(R.id.action_homeFragment_to_profileFragment)            } else {                navController.navigate(R.id.action_homeFragment_to_modeGame)            }        }        btnInstructions.setOnClickListener {            navController.navigate(R.id.action_homeFragment_to_manualFragment)        }        btnSet.setOnClickListener {            navController.navigate(R.id.action_homeFragment_to_settingsFragment)        }        btnPlayer.setOnClickListener {            navController.navigate(R.id.action_homeFragment_to_profileFragment)        }    }}